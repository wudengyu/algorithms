# 生日宴会
## 题目
### 知识点：拓扑排序，优先队列

贝克兰德的富商道恩.唐泰斯将要举办他的生日宴会，他将要邀请n个客人。现在他面临一个问题，安排客人的到场顺序。

在贝克兰德的社交礼仪中，一场宴会的客人总是一个接一个地到达，也就是说，没有两个客人可以在同一时间到达。到达顺序也有一定的限制，大佬应该在小弟全部到场后再到，丈夫应该在妻子之前入场等等。

满足礼仪的顺序有多种，但是因为不同的客人，道恩对他们的熟悉度程度不同，他想要在满足礼仪的情况下，使得他熟悉的人先到场。

现在，道恩对客人按照熟悉程度进行编号1-n，其中1号他最熟悉。然后客人之间有m个到场顺序限制。现在请你生成一个排序，使得在满足到场限制的条件下，使得1号尽可能早的入场，然后2号，3号……以此类推
输入

第一行两个正整数n,m(1≤n≤105,0≤m≤2×105

)

接下来m行，每行两个整数x，y，表示x应该比y先到 (1≤x,y≤n

)
输出

一行，n个人的排序，保证有解
输入样例
```
3 1
3 1
```
输出样例
```
3 1 2 
```
输入样例
```
5 6
2 1
5 2
4 1
5 4
3 1
5 3
```
输出样例
```
5 2 3 4 1 
```
## 题解
一序列规则记录下来，形成一个图。每个规则（x,y)就是图的一条边。很明显，第一个入场的应该是图中入度为0的顶点（可能有多个）。确定了先入场的顶点之后，把这一顶点的所有边去掉，又可以在剩下的顶点中找出入度为0的顶点，反复进行这个步骤，这就是拓扑排序。

显然，因为每一步得到的入度为0的顶点可能有多个，采用不同的选择方案，得到的结果是不一样的，但都是拓扑排序的结果。可以采用遍历来选择入度为0的顶点，但是需要为每个顶点增加一个是否已经输出的标志，同时，即便顶点已经输出，但每次遍历仍然要进行判断，空间、时间都浪费了，所以，一般都是栈、队列甚至优先队列来暂存入度为0的顶点，再逐步处理。就本题来说，除了满足限制条件外，还要满足编号小的优先，所以，应该采用提示的优先队列。不过，以题目给出的样例一来看，首先入队的是2和3，输出就会是2，3，1，不符合题目要求，这是因为满足限制的一若干序列中，决定哪个序列排在前面不是取决于序列中第一个顶点，而是后面的顶点是否更小。比如：3，1和2，应该是用后面的1和2比，那么就可以得到3，1应该排在2的前面，输出3，1，2就对了。也就是把拓扑排序得到的序列倒过来就好比较了，当然，倒过来是1，3和2，这时候序列之间也应该倒过来排，就可以得到2，1，3，再倒一次就得到正确的3，1，2了。

也就是说，生成一个反图，再按较大优先拓扑排序，再把结果倒过来。 